enum UnterveranstaltungType {
  CREW
  GLIEDERUNG
}

model Unterveranstaltung {
  id               String                       @id @default(uuid(7))
  maxTeilnehmende  Int
  teilnahmegebuehr Int
  meldebeginn      DateTime
  meldeschluss     DateTime
  veranstaltungId  String
  veranstaltung    Veranstaltung                @relation(fields: [veranstaltungId], references: [id], onDelete: Cascade)
  gliederungId     String
  gliederung       Gliederung                   @relation(fields: [gliederungId], references: [id], onDelete: Cascade)
  Anmeldung        Anmeldung[]
  beschreibung     String?
  bedingungen      String?
  type             UnterveranstaltungType       @default(GLIEDERUNG)
  customFields     CustomField[]
  documents        UnterveranstaltungDocument[]

  faqs          Faq[]
  faqCategories FaqCategory[]

  landingSettings UnterveranstaltungLandingSettings?
  AnmeldungLink   AnmeldungLink[]
}

model UnterveranstaltungDocument {
  id                   String              @id @default(uuid(7))
  name                 String
  description          String?
  unterveranstaltungId String
  unterveranstaltung   Unterveranstaltung? @relation(fields: [unterveranstaltungId], references: [id], onDelete: Cascade)
  file                 File                @relation(fields: [fileId], references: [id])
  fileId               String              @unique
}
